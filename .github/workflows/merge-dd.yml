    - name: 📤 提交文件
      run: |
        echo "=== 提交DD.m3u ==="
        
        # 首先检查文件
        if [ ! -f "DD.m3u" ]; then
          echo "❌ 错误: DD.m3u 文件不存在!"
          echo "当前目录内容:"
          ls -la
          exit 1
        fi
        
        echo "✅ DD.m3u 存在"
        echo "文件大小: $(wc -c < DD.m3u) 字节"
        echo "行数: $(wc -l < DD.m3u)"
        
        # 配置Git
        git config user.email "github-actions[bot]@users.noreply.github.com"
        git config user.name "github-actions[bot]"
        
        # 显示当前状态
        echo "Git状态:"
        git status
        
        # 添加文件
        git add DD.m3u
        
        # 检查是否有变化
        if git diff --cached --quiet; then
          echo "📭 文件无变化，无需提交"
        else
          # 提交
          git commit -m "🤖 自动更新 DD.m3u [$(date +'%Y-%m-%d %H:%M')]"
          
          # 先拉取最新
          echo "拉取远程更新..."
          git pull origin main --rebase
          
          # 推送
          echo "推送到远程..."
          git push origin main
          echo "✅ 提交完成"
        fi
